class LogosMarquee{constructor({containerSelector:e=".marquee__ctn",trackSelector:t=".marquee__track",speed:s=60}={}){this.container=document.querySelector(e),this.track=document.querySelector(t),this.speed=s,this.container&&this.track?(this.trackWidth=this.track.getBoundingClientRect().width,this.pos=0,this.start=null,this.rafId=null,this.setup(),this.animate=this.animate.bind(this),requestAnimationFrame(this.animate)):console.warn("Marquee: éléments introuvables.")}setup(){this.container.style.width=`${this.trackWidth}px`,this.clone=this.track.cloneNode(!0),this.container.appendChild(this.clone),this.container.style.willChange="transform"}animate(e){this.start||(this.start=e);const t=e-this.start;this.pos=-t/1e3*this.speed,Math.abs(this.pos)>=this.trackWidth&&(this.start=e,this.pos=0),this.container.style.transform=`translateX(${this.pos}px)`,this.rafId=requestAnimationFrame(this.animate)}destroy(){cancelAnimationFrame(this.rafId),this.clone&&this.clone.remove(),this.container.style.transform="",this.container.style.willChange=""}}function menuAnim(){document.querySelectorAll(".nav-item").forEach((function(e){e.addEventListener("mouseenter",(function(){const t=e.querySelector(".dropdown-menu > .container"),s=t?t.offsetHeight:0,c=window.innerHeight-200,o=s<c?s:c;document.querySelector(".header").classList.add("header-in"),document.querySelector(".bg-menu").style.height=o+"px",e.classList.add("active"),lazyEvent()})),e.addEventListener("mouseleave",(function(){document.querySelector(".bg-menu").style.height="0px",e.classList.remove("active"),document.querySelector(".header").classList.remove("header-in")}))}))}function resize(){const e=()=>{document.body.style.setProperty("--winH",`${window.innerHeight}px`)};e(),window.addEventListener("resize",e)}function navClick(){document.querySelector(".toggle-menu").addEventListener("click",(()=>{const e=document.querySelector(".header");e&&e.classList.contains("open-menu")?(e.classList.remove("open-menu"),document.querySelector("html, body").classList.remove("no-scroll"),document.querySelector(".nav-item.current")&&document.querySelector(".nav-item.current").classList.remove("current")):(document.querySelector("html, body").classList.add("no-scroll"),e.classList.add("open-menu"))}));const e=document.querySelector(".nav");e&&e.addEventListener("click",(e=>{const t=e.target.closest(".nav-item");t&&t.classList.add("current"),e.target.closest(".back-menu")&&document.querySelector(".nav-item.current")&&document.querySelector(".nav-item.current").classList.remove("current"),e.target.closest(".close-menu")&&document.querySelector(".toggle-menu").click()}))}function menuAccordion(){const e=document.querySelector(".dropdown-menu--customize");e&&e.addEventListener("click",(t=>{const s=t.target.closest(".accordion-header"),c=s?.closest(".accordion"),o=c.querySelector(".accordion-body"),n=c.querySelector(".accordion-detail").clientHeight+"px";s.classList.contains("current")?(s.classList.remove("current"),o.style.setProperty("--data-h","0px")):(e.querySelectorAll(".accordion-header").forEach((e=>{e.classList.remove("current");const t=e?.closest(".accordion").querySelector(".accordion-body");t.style.setProperty("--data-h","0px")})),s.classList.add("current"),o.style.setProperty("--data-h",n))}))}function filterEvents(){const e=document.querySelector(".filter");e&&e.addEventListener("click",(t=>{const s=t.target.closest(".accordion__header");if(s){const t=s?.closest(".list_accordion"),c=t.querySelector(".accordion__content"),o=t.querySelector(".accordion__detail").clientHeight+"px";s.classList.contains("current")?(s.classList.remove("current"),c.style.height="0px"):(e.querySelectorAll(".accordion__header").forEach((e=>{e.classList.remove("current");const t=e?.closest(".list_accordion").querySelector(".accordion__content");t.style.height="0px"})),s.classList.add("current"),c.style.height=o)}const c=t.target.closest(".head-top--left");if(c){document.querySelector("body").classList.add("no-scroll");const e=c?.closest(".filter"),t=e.querySelector(".filter__accordion");t&&t.classList.add("open")}const o=t.target.closest(".close-filter");if(o){const e=o?.closest(".filter"),t=e.querySelector(".filter__accordion");t&&t.classList.remove("open"),document.querySelector("body").classList.remove("no-scroll")}}))}function toggleLanguage(){document.querySelector(".select-language").addEventListener("click",(e=>{const t=e.target.closest(".select-header"),s=t?.closest(".select");s&&(s.classList.contains("open")?s.classList.remove("open"):s.classList.add("open"))}))}function toggleSort(){const e=document.querySelector(".sort");e&&e.addEventListener("click",(e=>{const t=e.target.closest(".select-header");if(t){const e=t?.closest(".select");e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open")}const s=e.target.closest(".select-box li");if(s){const e=s?.closest(".select");if(!s.classList.contains("selected")){const t=s.textContent,c=s.getAttribute("data-value");console.log("selected",c);const o=e.querySelector("li.selected");o&&o.classList.remove("selected"),e.querySelector(".select-selected").innerHTML=t,s.classList.add("selected"),e.classList.remove("open")}}}))}function lazyEvent(){document.querySelectorAll(".lazy-event:not(.loaded)").forEach((e=>{const t=e.getAttribute("data-src");e.setAttribute("src",t),e.classList.add("loaded")}))}function isInViewport(e,t=200){const s=e.getBoundingClientRect();return s.top<window.innerHeight+t&&s.bottom>-t}function loadImagesOnScroll(){document.querySelectorAll(".lazy:not(.loaded)").forEach((e=>{if(window.innerWidth>=1024){if(!e.classList.contains("sp")&&isInViewport(e,50)){const t=e.getAttribute("data-src");t&&(e.setAttribute("src",t),e.classList.add("loaded"))}}else if(!e.classList.contains("pc")&&isInViewport(e,200)){const t=e.getAttribute("data-src");t&&(e.setAttribute("src",t),e.classList.add("loaded"))}}));const e=document.querySelector("header");window.scrollY>50?e.classList.add("sticky"):e.classList.remove("sticky")}window.addEventListener("scroll",loadImagesOnScroll),window.addEventListener("load",loadImagesOnScroll),toggleLanguage(),navClick(),menuAnim(),resize(),menuAccordion(),filterEvents(),toggleSort(),document.querySelector(".marquee__ctn")&&new LogosMarquee({containerSelector:".marquee__ctn",trackSelector:".marquee__track",speed:120});